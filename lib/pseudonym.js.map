{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap aad039ea4cbbd888b24e","webpack:///./src/index.js","webpack:///./src/model.js","webpack:///./src/fieldmap.js"],"names":[],"mappings":"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","file":"pseudonym.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap aad039ea4cbbd888b24e\n **/","import {createModel} from './model';\n\nfunction __extends(child, parent) {\n  for (var key in parent) {\n    if (parent.hasOwnProperty(key))\n      child[key] = parent[key];\n  }\n\n  function ctor() {\n    this.constructor = child;\n  }\n\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n  child.__super__ = parent.prototype;\n\n  return child;\n}\n\n\n/*\n * Define source name properties on the Model prototype\n * @method\n * @param {object} prototype Model implementation prototype.\n * @param {string} src Source name.\n */\nfunction __defineProperty(prototype, src) {\n  Object.defineProperty(prototype, src, {\n    get() {\n      return this.getValue(src);\n    },\n    set(val) {\n      this.setValue(src, val);\n    }\n  });\n}\n\n/*\n * Exposed function to implement Pseudonym module.\n * @method\n * @param {object} [superConstructor] Class to inherit Pseudonym Model.\n * @param {string[]|object} fields FieldMap initializer.\n */\nexport default function (fields) {\n  if (typeof(fields) === 'string')\n    fields = [fields];\n\n  let superConstructor = createModel(fields);\n  let {prototype, fieldMap} = superConstructor;\n  let {srcKeys} = fieldMap;\n\n  for (let i = 0, len = srcKeys.length; i < len; i++) {\n    let key = srcKeys[i];\n    __defineProperty(prototype, key);\n  }\n\n  superConstructor.extend = function (child) {\n    let childProto = {};\n\n    let propNames = Object.getOwnPropertyNames(child.prototype);\n\n    for (let j = 0, len = propNames.length; j < len; j++) {\n      let name = propNames[j];\n      childProto[name] = child.prototype[name];\n    }\n\n    __extends(child, superConstructor);\n\n    for (let key in childProto)\n      child.prototype[key] = childProto[key];\n\n    child.fieldMap = fieldMap;\n\n    return child;\n  };\n\n  return superConstructor;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import FieldMap from './fieldmap';\n\nexport function createModel(fields) {\n  let _fieldMap = new FieldMap(fields);\n\n  /*\n   * Get a Model class\n   * @class\n   * @property {object} fieldMap FieldMap instance.\n   * @property {array} __d Current internal data values.\n   * @property {array} __p Previous internal data values.\n   * @return {Model} Model\n   */\n  return class Model {\n    constructor(initializer, aliased) {\n      this.deserialize(initializer, aliased);\n    }\n\n    static get fieldMap() {\n      return _fieldMap;\n    }\n\n    init() {\n      if (!this.__d) {\n        this.__d = new Array(_fieldMap.destKeys.length);\n        this.__p = new Array(_fieldMap.destKeys.length);\n      }\n    }\n\n    /*\n     * Get / Set internal value for property alias.\n     * @virtual\n     * @param {string} dest Destination property alias.\n     * @param {object} val Optional value to set.\n     * @return {object} Value if val undefined.\n     */\n    data(dest, val) {\n      this.init();\n\n      let i = _fieldMap.destIndex[dest];\n\n      if (typeof(val) !== 'undefined') {\n        this.__d[i] = val;\n        return;\n      }\n      else if (dest) {\n        return this.__d[i];\n      }\n      else {\n        return this.__d;\n      }\n    }\n\n    serialize() {\n      return JSON.stringify(this);\n    }\n\n    deserialize(obj, aliased) {\n      if (typeof(obj) === 'string')\n        obj = JSON.parse(obj);\n\n      for (let dest in obj) {\n        if (obj.hasOwnProperty(dest)) {\n          let key = aliased ? _fieldMap.getSrcKey(dest) : dest;\n          this[key] = obj[dest];\n        }\n      }\n\n      return this;\n    }\n\n    /*\n     * Function to implement when JSON.stringify called on instance.\n     * @method\n     * @return {object} Object to stringify.\n     */\n    toJSON() {\n      return this.toDocument();\n    }\n\n    /*\n     * Returns a simple document with aliased property names.\n     * @method\n     * @param {boolean} aliased Boolean switch to specify whether property name fields should be returned with document.\n     * @return {object} Value if val undefined.\n     */\n    toDocument(aliased) {\n      let doc = Object.create(null);\n      let {__d} = this;\n\n      if (__d) {\n        for (let i = 0, len = __d.length; i < len; i++) {\n          let val = __d[i];\n\n          if (typeof(val) !== 'undefined') {\n            let src = _fieldMap.srcKeys[i];\n\n            let key = aliased ? _fieldMap.getDestKey(src) : src;\n            doc[key] = this[src];\n          }\n        }\n      }\n\n      return doc;\n    }\n\n    /*\n     * Return previous internal value for property alias\n     * @method\n     * @param {string} dest Destination property alias.\n     * @return {object} Value.\n     */\n    prev(dest) {\n      let i = _fieldMap.destIndex[dest];\n      return this.__p[i];\n    }\n\n    /*\n     * Get value for property name.\n     * @virtual\n     * @param {string} src Source property name.\n     * @return {object} Value.\n     */\n    getValue(src) {\n      let dest = _fieldMap.getDestKey(src);\n      return this.data(dest);\n    }\n\n    /*\n     * Set value for property name.\n     * @virtual\n     * @param {string} src Source property name.\n     * @param {object} val Value to set.\n     * @return {string} Property alias.\n     */\n    setValue(src, val) {\n      let dest = _fieldMap.getDestKey(src);\n      let previousVal = this.data[dest];\n\n      if (typeof(previousVal) !== 'undefined') {\n        let i = _fieldMap.destIndex[dest];\n        this.__p[i] = previousVal;\n      }\n\n      if (val !== previousVal)\n        this.data(dest, val);\n\n      return dest;\n    }\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/model.js\n **/","export default class FieldMap {\n  /*\n   * Get an FieldMap class\n   * @class\n   * @param {array|object} initializer Array or object of alias mappings.\n   * @property {string[]|object} initializer Array or object of alias mappings.\n   * @property {string[]} srcKeys Source key names.\n   * @property {string[]} destKeys Destination key names.\n   * @property {object} srcIndex Dictionary mapping source key names to srcKeys array indexes.\n   * @property {object} destIndex Dictionary mapping destination key names to destKeys array indexes.\n   * @return {FieldMap} FieldMap.\n   */\n  constructor(fields) {\n    this.index = 0;\n    this.init(fields);\n  }\n\n  add(src, dest = src) {\n    let {index, srcIndex, destIndex, srcKeys, destKeys} = this;\n\n    if (!srcIndex[src]) {\n      srcKeys.push(src);\n      destKeys.push(dest);\n\n      srcIndex[src] = index;\n      destIndex[dest] = index;\n\n      this.index++;\n    }\n  }\n\n  /*\n   * Initialize instance properties\n   * @method\n   * @param {string[]|object} fields Array or object of alias mappings.\n   */\n  init(fields) {\n    if (fields) {\n      this.srcKeys = [];\n      this.destKeys = [];\n\n      this.srcIndex = Object.create(null);\n      this.destIndex = Object.create(null);\n\n      if (fields instanceof Array) {\n        for (let j = 0, len = fields.length; j < len; j++)\n          this.add(fields[j]);\n      }\n      else {\n        for (let src in fields) {\n          if (fields.hasOwnProperty(src)) {\n            let dest = fields[src];\n            this.add(src, dest);\n          }\n        }\n      }\n\n      this.fields = fields;\n    }\n  }\n\n  /*\n   * Get source key name for destination key name\n   * @method\n   * @param {string} dest Destination key name.\n   * @return {string} Source key name.\n   */\n  getSrcKey(dest) {\n    return  this.srcKeys[this.destIndex[dest]];\n  }\n\n  /*\n   * Get destination key name for source key name\n   * @method\n   * @param {string} src Source key name.\n   * @return {string} Destination key name.\n   */\n  getDestKey(src) {\n    return this.destKeys[this.srcIndex[src]];\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/fieldmap.js\n **/"],"sourceRoot":""}