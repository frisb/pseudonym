!function(a,b){if("function"==typeof define&&define.amd)define(["module"],b);else if("undefined"!=typeof exports)b(module);else{var c={exports:{}};b(c),a.pseudonym=c.exports}}(this,function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a){var c=new f(a);return function(){function a(){b(this,a)}return e(a,[{key:"init",value:function(){this.__d||(this.__d=new Array(c.destKeys.length),this.__p=new Array(c.destKeys.length))}},{key:"data",value:function(a,b){this.init();var d=c.destIndex[a];return"undefined"!=typeof b?void(this.__d[d]=b):a?this.__d[d]:this.__d}},{key:"Serialize",value:function(){throw new Error("not implemented")}},{key:"Deserialize",value:function(a){throw new Error("not implemented")}},{key:"toJSON",value:function(){return this.toDocument()}},{key:"toDocument",value:function(a){var b=Object.create(null),d=this.__d;if(d)for(var e=0,f=d.length;f>e;e++){var g=d[e];if("undefined"!=typeof g){var h=c.srcKeys[e],i=a?c.getDestKey(h):h;b[i]=this.getValue(h)}}return b}},{key:"prev",value:function(a){var b=c.destIndex[a];return this.__p[b]}},{key:"getValue",value:function(a){var b=c.getDestKey(a);return this.data(b)}},{key:"setValue",value:function(a,b){var d=c.getDestKey(a),e=this.data[d];if("undefined"!=typeof e){var f=c.destIndex[d];this.__p[f]=e}return b!==e&&this.data(d,b),d}},{key:"aliasMap",get:function(){return c}}]),a}()}function d(a,b){Object.defineProperty(a,b,{get:function(){return this.getValue(b)},set:function(a){this.setValue(b,a)}})}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(c){b(this,a),this.init(c)}return e(a,[{key:"init",value:function(a){var b=this;a&&!function(){b.srcKeys=[],b.destKeys=[],b.srcIndex=Object.create(null),b.destIndex=Object.create(null);var c=0,d=function(a){var d=arguments.length<=1||void 0===arguments[1]?a:arguments[1];b.srcIndex[a]||(b.srcKeys.push(a),b.destKeys.push(d),b.srcIndex[a]=c,b.destIndex[d]=c,c++)};if(a instanceof Array)for(var e=0,f=a.length;f>e;e++)d(a[e]);else for(var g in a)if(a.hasOwnProperty(g)){var h=a[g];d(g,h)}b.initializer=a}(),console.log(this)}},{key:"getSrcKey",value:function(a){return this.srcKeys[this.destIndex[a]]}},{key:"getDestKey",value:function(a){return this.destKeys[this.srcIndex[a]]}}]),a}();a.exports=function(a){"string"==typeof a&&(a=[a]);for(var b=c(a),e=b.prototype,f=e.aliasMap.srcKeys,g=0,h=f.length;h>g;g++){var j=f[g];d(e,j)}return b.extend=function(a){for(var c={},d=Object.getOwnPropertyNames(a.prototype),e=0,f=d.length;f>e;e++){var g=d[i];c[g]=a.prototype[g]}a["extends"](b);for(var h in c){var j=c[h];a.prototype[h]=j}return a},b}});